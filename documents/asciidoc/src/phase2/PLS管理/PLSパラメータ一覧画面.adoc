=== PLSパラメータ一覧画面

==== 概要

[.lead]
PLSのパラメータ設定用にバランシンググループにおける調達元の電源を一覧表示する。

===== 画面イメージ

[plantuml]
--
salt
{
  { BG | ^パワオプ東京BG^ }
  {[新規]}
  {#
    . |種別 | コード | 契約番号 | BGメンバー | 最大量 | 最小量 | ロット
    [編集] | BG | JSPT1 | . | パワーオプティマイザー | - | - | 1
    [編集] | JEPXスポット | JSPT1 | . | パワーオプティマイザー | 2000 | 0 | 50
    [編集] | JEPX1時間前  | JP1HR | . | パワーオプティマイザー | 2000 | 0 | 50
    [編集] | 常時バックアップ | JBU1A | xxxxxx | パワーオプティマイザー | 1000 | 0 | 1
    [編集] | FIT | JSDAA | xxxxxx | パワーオプティマイザー | - | - | 1
    [編集] | FIT | 1DADK | xxxxxx | FIT電力 | - | - | 1
    [編集] | 相対(固定) | 1DADA | xxxxxx | パワーオプティマイザー | 1000 | 1000 | 1000
    [編集] | 相対(パターン) | 1DADB | xxxxxx | パワーオプティマイザー | - | - | 1
  }

}
--

===== I/O関連図

[plantuml]
--
rectangle {
  database "バランシンググループ" as input_1
  database "BGメンバー" as input_2
  database "バランシン会社ググループ" as input_3
  database "リソース" as input_4

  (PLSパラメータ一覧画面) as prog
}

input_1 --> prog : input
input_2 --> prog : input
input_3 --> prog : input
input_4 --> prog : input
prog --> output : output
--

===== I/O

|======================================
| 名称 | 物理名 | 種類 | I/O種別 | 備考
| バランシンググループ | balancing_groups | DB | I    |
| BGメンバー           | bg_members       | DB | I    |
| 会社                 | companies        | DB | I    |
| リソース             | resources        | DB | I    |
|======================================

<<<

==== 画面項目定義

===== ヘッダ部
|======================================
| 項目名 | 項目種別       | 物理項目名 | 取得元               | I/O | 備考
| BG     | ドロップダウン |            | バランシンググループ | I/O | ユーザーが選択可能なBG名のみ表示する
| 新規   | ボタン         |            |                      |     |
|======================================

===== 一覧

|======================================
| 項目名     | 項目種別 | 物理項目名  | 取得元   | I/O | 備考
| 編集       | ボタン   |             |          |     | 押下時は対応する詳細画面に遷移
| 種別       | ラベル   | type        | リソース | I   | テキストは日本語に変換する
| コード     | ラベル   | code        | リソース | I   |
| 契約番号   | ラベル   | contract_no | リソース | I   |
| BGメンバー | ラベル   | name        | 会社     | I   | resource.bg_menber.company
| 最大値     | ラベル   | max         | リソース | I   | 空白あり
| 最小値     | ラベル   | min         | リソース | I   | 空白あり
| 単位       | ラベル   | unit        | リソース | I   | 空白あり
|======================================

<<<

==== 機能詳細

===== 初期表示

. ドロップダウン設定
.. BG選択ドロップダウンに、ユーザーが選択可能なBGをセットする(選択可能なBGが無い場合はその旨エラー表示する)
.. ユーザーが選択可能なBG中、リストの先頭にあるものを初期値として、リソースを画面項目定義に従い一覧表示する(BGメンバーを結合してbalancing_group_idで検索する)

===== ドロップダウン変更時

. 選択されたBGに対応するリソースを画面項目定義に従い一覧表示する

===== 新規ボタン押下時

. PLSパラメータ詳細画面に遷移する
.. 現在選択されているBG IDをパラメータとして渡す

===== 編集ボタン押下時

. PLSパラメータ詳細画面に遷移する
.. 押下した行に対応するリソースIDをパラメータとして渡す

<<<

