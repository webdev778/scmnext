マスタ系画面の作成について(暫定)
================================

新システムでのマスタ系画面は、基本的にフレームワークの共通部品、RestIndex/RestFormを利用して作成し、
一部、対応が難しいものは別途個別に作成する形をとる。
作成手順について、ひとまず以下のような形で進めることとする。

手順
----

### 対象とするモデル(テーブル)の選定

対象とするモデルについては別途指示する。

### マスタ画面の種類の決定

大きく、旧SCMと同期するかで

* 新規作成するため、登録、編集、削除の機能が必要なもの
* 旧SCMから同期するため、編集の必要がないもの

の違いがある。旧SCMと同期するものについては、閲覧のみとし、それ以外については、登録、編集、削除の機能を付与する。
対象となるモデルがどちらに該当するから別途指示する。

### urlの決定

マスタ系画面は一覧画面及び詳細画面で構成されるが、各画面のURLは特に指示がない場合、以下の形とする。

| 画面の種類 | urlのルール | 例(Userの場合) |
|----------|----------------------------------------------------|--|
| 一覧画面 | [対象モデル物理名の複数形をスネークケースに変換したもの]/ | /users/ |
| 詳細画面 | [対象モデル物理名の複数形をスネークケースに変換したもの]/{id} | /users/1 |

別のurlを使用する場合は、別途指示する。

### 画面の作成

基本的な画面の作成方法ついては[フレームワーク概説](../common/フレームワーク概説.md)を参照のこと。

画面作成にあたり、一覧、詳細それぞれで表示、編集対象とするフィールドを決めていく必要があるがこちらについては、以下のルールで行う。

#### 一覧画面

一覧画面の一覧表に表示する項目についてはid及び名前、作成日時、更新日時を表示する。(名前がない場合は名前なしでよい。)
モデル上、belongs_to関連がある場合は、belongs_to先の名称も表示対象とする。

一覧画面での検索については、名前の部分一致検索を行い、belongs_to関連については、selectタグによるフィルタリングができるようにする。

#### 詳細画面

詳細画面では、DB定義書に記述された順番ですべてのフィールドを編集対象とする。
(但し、作成日時、作成者、更新日時、更新者は対象外。こちらについては後でフレームワーク側で表示するように対応する。)

当該フィールドがbelongs_to関連の外部キーとなっている場合は、selectタグによる選択ができるようにする。

当該フィールドがenumにより列挙型で定義されている場合は、それらの値を選択可能なradioボタンを作成する。

validationについては、backendのモデルクラスで行うのでfrontend側では実施しない。